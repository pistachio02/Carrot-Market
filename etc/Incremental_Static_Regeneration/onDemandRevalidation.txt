~~~~~~~~~~~~

    이전에 배웠던 내용을 이어 가보자면,
    revalidate 옵션을 설정해주면 설정해준 시간대로 최신 화면을 유저에게 보여줄 수 있다고 했는데, 그렇다면 그 새로고침 하는것을 단순히 시간이 아니라 데이터의 변화에 의해 할 수 있다면 어떨까? 그게 아마 더 좋은 방법일 것 같다.

    데이터에 어떠한 변화도 없고, 유저가 언제 어느 때 와도 같은 화면을 봐야한다면 revalidate하지 않고 그대로 두고, 
    만약 데이터에 변화가 생겨서 유저가 새로운 화면을 봐야 한다면 그때 revalidate을 해 최신 화면을 보여주는것.

    그렇게 해주려면 어떻게 해야할까?
    우선 기존에 작성했던 revalidate 옵션을 지우고,
    데이터를 가져오는, 즉 api페이지의 여러곳에서 아래와 같이 작성해주면 된다.

    /*
        await res.unstable_revalidate("/새로고침할페이지의url주소")
    */

    위와같이 작성해주면 전에 설명했던 기능이 가능하다.
    물론 아직 베타버젼이고, 그래서 언스테이블이라고 나오지만 그래도 가능은 하다.
    아마 앞으로는 더 발전되서 좀 더 안정성 있게 사용하는날이 올거라 생각한다.

    어쨌던 위와같은 방법으로 작성하는데,
    만약 우리가 지금 만드는 캐럿마켓의 홈페이지인 상품목록 페이지를 onDemandRevalidate 하고싶다면 우선 DB와 소통하며 실제 데이터를 꺼내오는 api/products/index.ts 에다가 위 코드를 작성해주고, 괄호안에는 "/" 라고 해주면 된다.

    이렇게 해주면 유저가 새로운 상품을 판매하고 싶을때 새로운 판매글을 올릴것이고 그렇게 되면 화면에 나와야 하는 데이터들에 변화가 필요하기 때문에 그것을 감지해 새로 revalidate을 하게 되는것이다.

~~~~~~~~~~~~
